<!-- Product Grid -->
<div class=" py-6 px-4 max-w-[1300px] mx-auto">

  <div
    class="home-banner bg-[#f9fafb]  h-[250px] md:min-h-[403px] md:p-4 px-4 py-6 flex flex-col gap-1 items-center justify-center  bg-cover bg-no-repeat bg-bottom"
    style="background-image: url('/merchandise-banner.png');">
    <!-- <p class="text-sm font-normal mb-0 text-center text-black z-1">Home > Our Products</p> -->

    <!-- <h2 class="text-3xl md:text-[45px] font-bold text-center text-black z-1">Our Products</h2> -->
  </div>

  <!-- Breadcrumb -->

</div>
<div class="py-6 px-4 max-w-[1300px] mx-auto">
  <!-- <div class="bg-[#f9fafb] p-4 rounded-2xl border border-solid border-[#cccccc29]"> -->
<div class="">
    <!-- Search and Filters -->
    <div class="flex flex-col md:flex-row justify-between items-center gap-4 w-full ">
      <!-- Search Input -->
      <!-- <div class="flex items-center w-full md:w-auto border border-[#8080804a] bg-white rounded-[20px] focus:outline-none">
        <button class=" p-2 pl-[15px]">
          <i class="fas fa-search text-gray-600"></i>
        </button>
        <input type="text" placeholder="Search" class="w-full md:w-64 focus:outline-none text-sm"
          (input)="searchProducts($event)" />
        <button class="p-2 pr-[15px] leading-[0]">
          <i class="fas fa-filter text-gray-600"></i>
        </button>
      </div> -->

      <!-- Sort Dropdown -->
      <!-- <div class="relative w-full md:w-auto">
        <select
          class="w-full md:w-40 p-2 pr-10 border border-gray-200 rounded-[20px] bg-white focus:outline-none text-sm appearance-none pl-[15px]">
          <option>Sort by</option>
          <option value="price_asc">Price: Low to High</option>
          <option value="price_desc">Price: High to Low</option>
        </select>


        <span class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M6 9L12 15L18 9" stroke="#1A2A49" stroke-width="3" stroke-linecap="round"
              stroke-linejoin="round" />
          </svg>
        </span>
      </div>  -->
<!-- <div class="relative w-full md:w-3xs">
  <details class="group relative w-full" #sortDropdown>
    <summary
      class="w-full p-2 pl-4 pr-[12px] border border-[#8080804a] rounded-[20px] bg-white text-sm cursor-pointer list-none flex items-center justify-between focus:outline-none"
    >
      <span>{{ sortLabel }}</span>
      <svg
        class="w-5 h-5 ml-2 transition-transform duration-200 group-open:rotate-180"
        viewBox="0 0 24 24"
        fill="none"
      >
        <path d="M6 9L12 15L18 9" stroke="#1A2A49" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
    </summary>

    <ul
      class="absolute z-50 w-full bg-white border border-gray-200 rounded shadow mt-1 max-h-60 overflow-auto"
    >
      <li class="text-sm p-2 hover:bg-gray-100 cursor-pointer" (click)="selectSort('')">Sort by</li>
      <li class="text-sm p-2 hover:bg-gray-100 cursor-pointer" (click)="selectSort('price_asc')">Price: Low to High</li>
      <li class="text-sm p-2 hover:bg-gray-100 cursor-pointer" (click)="selectSort('price_desc')">Price: High to Low</li>
    </ul>
  </details>
</div> -->

    </div>

    <!-- Sort Dropdown -->
    <!-- <div class="relative w-full md:w-auto">
  <select
    class="w-full md:w-40 p-2 pr-10 border border-gray-200 rounded-[20px] bg-white focus:outline-none text-sm appearance-none pl-[15px]"
    [(ngModel)]="sortValue"
    name="sortValue"
    (change)="onSortChange($event)"
  >
    <option value="">Sort by</option>
    <option value="price_asc">Price: Low to High</option>
    <option value="price_desc">Price: High to Low</option>
  </select>

  <span class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
      <path d="M6 9L12 15L18 9"
            stroke="#1A2A49" stroke-width="3" 
            stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </span>
</div> -->

  </div>
  <!-- Category Filters -->
  <!-- <div class="flex flex-wrap gap-2 mt-4">
    <button class="bg-gray-200 text-gray-700 px-3 py-1 rounded-full flex items-center">
      Clothes <span class="ml-1 text-red-500 cursor-pointer">&times;</span>
    </button>
    <button class="bg-gray-200 text-gray-700 px-3 py-1 rounded-full flex items-center">
      Fruits <span class="ml-1 text-red-500 cursor-pointer">&times;</span>
    </button>
    <button class="bg-gray-200 text-gray-700 px-3 py-1 rounded-full flex items-center">
      Snacks <span class="ml-1 text-red-500 cursor-pointer">&times;</span>
    </button>
    <button class="bg-gray-200 text-gray-700 px-3 py-1 rounded-full flex items-center">
      Dairy <span class="ml-1 text-red-500 cursor-pointer">&times;</span>
    </button>
    <button class="bg-gray-200 text-gray-700 px-3 py-1 rounded-full flex items-center">
      Perfume <span class="ml-1 text-red-500 cursor-pointer">&times;</span>
    </button>
    <button class="bg-gray-200 text-gray-700 px-3 py-1 rounded-full flex items-center">
      Jewelry <span class="ml-1 text-red-500 cursor-pointer">&times;</span>
    </button>
    <button class="bg-blue-500 text-white px-4 py-1 rounded-full">
      Clear All
    </button>
  </div> -->

  <div class="mt-[20px]">
    <ng-container *ngIf="limitedProducts && limitedProducts.length > 0; else noProducts">
      <div class="grid gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
        @for (product of limitedProducts; track product) {
          <app-product-card [product]="product" class="overflow-hidden"></app-product-card>
        }
      </div>
      
      <!-- See More Button -->
      <div class="flex justify-center mt-8" >
        <button 
          routerLink="/home/all-products"
          class="cursor-pointer bg-black text-white px-8 py-3 rounded-lg font-medium hover:bg-gray-800 transition duration-300 flex items-center gap-2">
          See More Products
          <i class="fas fa-arrow-right"></i>
        </button>
      </div>
    </ng-container>
    <ng-template #noProducts>
      <div class="flex flex-col items-center justify-center py-20 bg-white rounded-xl shadow-md border border-gray-200">
        <img src="/no-products.webp" alt="No Products" class="w-32 h-32 mb-4 opacity-80" />
        <h3 class="text-2xl font-bold text-gray-700 mb-2">No Products Found</h3>
        <p class="text-gray-500 text-base mb-4">We couldn't find any products matching your search or filters.</p>
      </div>
    </ng-template>
  </div>

  <!-- About Us Section -->
  <section class="mt-16 py-12 bg-white rounded-xl shadow-md">
    <div class="max-w-[1100px] mx-auto px-4">
      <div class="text-center mb-10">
        <h2 class="text-3xl md:text-4xl font-bold text-black mb-4">About Us</h2>
        <div class="w-20 h-1 bg-black mx-auto"></div>
      </div>
      
      <div class="grid md:grid-cols-2 gap-8 items-center">
        <!-- Image Section -->
        <div class="order-2 md:order-1">
          <img 
            src="/about-us-image.jpg" 
            alt="About Us" 
            class="w-full h-auto rounded-lg shadow-lg object-cover"
            onerror="this.src='https://images.unsplash.com/photo-1556740758-90de374c12ad?w=600&h=400&fit=crop'">
        </div>
        
        <!-- Content Section -->
        <div class="order-1 md:order-2 space-y-4">
          <h3 class="text-2xl font-semibold text-gray-800">Our Story</h3>
          <p class="text-gray-600 leading-relaxed">
            Welcome to our store! We are dedicated to providing high-quality products that meet your needs and exceed your expectations. Our journey began with a simple vision: to create a shopping experience that combines quality, affordability, and exceptional customer service.
          </p>
          <p class="text-gray-600 leading-relaxed">
            With years of experience in the industry, we carefully curate our product selection to ensure that every item meets our rigorous standards. We believe in building lasting relationships with our customers through trust, transparency, and dedication to excellence.
          </p>
          <div class="grid grid-cols-2 gap-4 pt-4">
            <div class="text-center p-4 bg-gray-50 rounded-lg">
              <h4 class="text-3xl font-bold text-black">500+</h4>
              <p class="text-gray-600 text-sm mt-1">Products</p>
            </div>
            <div class="text-center p-4 bg-gray-50 rounded-lg">
              <h4 class="text-3xl font-bold text-black">10k+</h4>
              <p class="text-gray-600 text-sm mt-1">Happy Customers</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>